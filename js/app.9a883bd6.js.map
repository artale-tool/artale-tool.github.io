{"version":3,"file":"js/app.9a883bd6.js","mappings":"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","sources":["webpack://lottery-tool-vue/./src/App.vue","webpack://lottery-tool-vue/./src/App.vue?7ccd","webpack://lottery-tool-vue/./src/main.js","webpack://lottery-tool-vue/webpack/bootstrap","webpack://lottery-tool-vue/webpack/runtime/chunk loaded","webpack://lottery-tool-vue/webpack/runtime/compat get default export","webpack://lottery-tool-vue/webpack/runtime/define property getters","webpack://lottery-tool-vue/webpack/runtime/global","webpack://lottery-tool-vue/webpack/runtime/hasOwnProperty shorthand","webpack://lottery-tool-vue/webpack/runtime/jsonp chunk loading","webpack://lottery-tool-vue/webpack/startup"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n\r\n    <!-- 贊助連結 -->\r\n    <a\r\n      class=\"donate-link\"\r\n      href=\"https://payment.opay.tw/Broadcaster/Donate/9F63A0D01BF401B3E4637E3CCB453A34\"\r\n      target=\"_blank\"\r\n      rel=\"noopener noreferrer\"\r\n    >\r\n      💖 贊助\r\n    </a>\r\n\r\n    <h1 class=\"title\">留言抽籤工具</h1>\r\n    <p class=\"announcement\">\r\n      🎉 全新 <strong>更快速、準確、自動化</strong> 的抽籤工具 Chrome 擴充套件上線了！<br>\r\n      👉 <a href=\"https://github.com/artale-tool/discord-lottery-extension\" target=\"_blank\">點我前往 GitHub 下載</a>\r\n    </p>\r\n    <p class=\"desc\">\r\n      請將 DC 留言複製並貼入以下輸入框。由於 DC 限制一次可複製的留言數量，建議每次複製約 80 則留言。每次複製時，請務必確保與上一次複製的內容之間有換行分隔，以避免資料混淆或遺漏。\r\n    </p>\r\n\r\n    <div class=\"main\">\r\n      <!-- 左欄 -->\r\n      <div class=\"left-panel\">\r\n        <textarea v-model=\"rawText\" rows=\"8\" placeholder=\"請貼上留言\"></textarea>\r\n\r\n        <div class=\"options\">\r\n          <div class=\"option-group\">\r\n            <label>推文關鍵字：\r\n              <input v-model=\"keyword\" />\r\n            </label>\r\n          </div>\r\n\r\n          <div class=\"option-group\">\r\n            <label>推文數字位置：\r\n              <select v-model=\"numberPosition\">\r\n                <option value=\"after\">數字在關鍵字後（如 推1）</option>\r\n                <option value=\"before\">數字在關鍵字前（如 1推）</option>\r\n                <option value=\"any\">不限位置（同時支援 推1 和 1推）</option>\r\n              </select>\r\n            </label>\r\n          </div>\r\n\r\n          <div class=\"option-group\">\r\n            <label>重複帳號處理：\r\n              <select v-model=\"duplicateMode\">\r\n                <option value=\"exclude\">排除重複帳號</option>\r\n                <option value=\"first\">僅保留第一筆</option>\r\n                <option value=\"allow\">允許重複參加</option>\r\n              </select>\r\n            </label>\r\n          </div>\r\n\r\n          <button @click=\"parseText\">整理留言</button>\r\n        </div>\r\n\r\n        <!-- 重複帳號名單 -->\r\n        <div v-if=\"filteredDuplicates.length\" class=\"duplicates-list\">\r\n          <h2 class=\"duplicates-title\">重複留言帳號（{{ filteredDuplicates.length }} 位）</h2>\r\n          <p class=\"note-text\">※ 部分使用者 ID 可能相同但實際為不同帳號，可能會誤判為重複帳號，請特別留意是否誤排除有效留言。</p>\r\n          <ul class=\"duplicates-ul\">\r\n            <li v-for=\"(item, idx) in filteredDuplicates\" :key=\"idx\" class=\"duplicate-item\">\r\n              <span>\r\n                {{ item.account }} - 留言 {{ item.count }} 次（{{ item.numbers.map(n => '推' + n).join(', ') }}）\r\n              </span>\r\n              <button @click=\"includeAccount(item.account)\" class=\"btn-restore\">還原參加</button>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <!-- 推號重複名單 -->\r\n        <div v-if=\"duplicateNumbers.length\" class=\"duplicates-list\">\r\n          <h2 class=\"duplicates-title\">推文號碼重複（{{ duplicateNumbers.length }} 筆已移除）</h2>\r\n          <p class=\"note-text\">※ 同一個推號只能保留第一個留言，其餘將自動略過。</p>\r\n          <ul class=\"duplicates-ul\">\r\n            <li v-for=\"(item, idx) in duplicateNumbers\" :key=\"idx\">\r\n              {{ item.account }} - 推{{ item.number }}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <!-- 參加名單 -->\r\n        <div v-if=\"parsed.length\" class=\"participants-list\">\r\n          <h2 class=\"participants-title\">參加名單（{{ parsed.length }}人）：</h2>\r\n          <ul class=\"participants-ul\">\r\n            <li v-for=\"(entry, i) in parsed\" :key=\"i\">\r\n              {{ entry.account }} - 推{{ entry.number }}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 右欄 -->\r\n      <div class=\"right-panel\">\r\n        <label>抽幾人：\r\n          <input type=\"number\" v-model.number=\"drawCount\" min=\"1\" :max=\"parsed.length || 1\" />\r\n        </label>\r\n\r\n        <button @click=\"drawWinners\" :disabled=\"parsed.length === 0\">抽籤</button>\r\n\r\n        <div v-if=\"winners.length\" class=\"winners-list\">\r\n          <h2>🎉 中獎名單（{{ winners.length }}人）：</h2>\r\n          <ul class=\"winners-ul\">\r\n            <li v-for=\"(winner, i) in winners\" :key=\"i\">\r\n              {{ winner.account }} - 推{{ winner.number }}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      rawText: '',\r\n      keyword: '推',\r\n      numberPosition: 'after',\r\n      duplicateMode: 'exclude',\r\n      parsed: [],\r\n      drawCount: 1,\r\n      winners: [],\r\n      duplicates: [],\r\n      duplicateNumbers: [],\r\n      entries: [],\r\n      manualIncluded: [],\r\n    }\r\n  },\r\n  computed: {\r\n    filteredDuplicates() {\r\n      return this.duplicates.filter(d => !this.manualIncluded.includes(d.account))\r\n    }\r\n  },\r\n  methods: {\r\n    parseText() {\r\n      const lines = this.rawText.split('\\n').map(l => l.trim())\r\n      const entries = []\r\n\r\n      const isPureMetaLine = (line) => !line || /^\\[.*\\]$/.test(line) || /^—/.test(line) || /^(昨天|上午|下午|晚上|凌晨).*/.test(line)\r\n      const escapeRegExp = (str) => str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\r\n      const escapedKeyword = escapeRegExp(this.keyword)\r\n      const isPushLine = (line) => new RegExp(`^${escapedKeyword}\\\\d+$`).test(line)\r\n\r\n      for (let i = 0; i < lines.length; i++) {\r\n        const line = lines[i]\r\n        \r\n        let match = null;\r\n        if (this.numberPosition === 'after') {\r\n          match = line.match(new RegExp(`^${escapedKeyword}(\\\\d+)$`));\r\n        } else if (this.numberPosition === 'before') {\r\n          match = line.match(new RegExp(`^(\\\\d+)${escapedKeyword}$`));\r\n        } else if (this.numberPosition === 'any') {\r\n          match = line.match(new RegExp(`(?:^${escapedKeyword}(\\\\d+)$)|(?:^(\\\\d+)${escapedKeyword}$)`));\r\n          if (match) {\r\n            match[1] = match[1] || match[2]; // 統一取出數字\r\n          }\r\n        }\r\n\r\n        if (match) {\r\n          const number = parseInt(match[1])\r\n          let account = null\r\n          for (let j = i - 1; j >= 0 && i - j <= 5; j--) {\r\n            const candidate = lines[j]\r\n            if (!candidate || isPureMetaLine(candidate) || isPushLine(candidate)) continue\r\n            account = candidate.includes('—') ? candidate.split('—')[0].trim() : candidate.trim()\r\n            break\r\n          }\r\n          if (account) entries.push({ account, number })\r\n        }\r\n      }\r\n\r\n      // 移除推號重複，只保留第一筆\r\n      const seenNumbers = new Set()\r\n      const uniqueEntries = []\r\n      const duplicateNumbers = []\r\n      for (const entry of entries) {\r\n        if (!seenNumbers.has(entry.number)) {\r\n          seenNumbers.add(entry.number)\r\n          uniqueEntries.push(entry)\r\n        } else {\r\n          duplicateNumbers.push(entry)\r\n        }\r\n      }\r\n\r\n      this.entries = uniqueEntries\r\n      this.duplicateNumbers = duplicateNumbers\r\n\r\n      // 重複帳號統計\r\n      const counts = {}\r\n      this.entries.forEach(e => {\r\n        counts[e.account] = counts[e.account] ? [...counts[e.account], e.number] : [e.number]\r\n      })\r\n\r\n      this.duplicates = Object.entries(counts)\r\n        .filter(([, nums]) => nums.length > 1)\r\n        .map(([acc, nums]) => ({ account: acc, count: nums.length, numbers: nums }))\r\n\r\n      this.manualIncluded = []\r\n      this.updateParsedList()\r\n      this.winners = []\r\n    },\r\n\r\n    updateParsedList() {\r\n      const counts = {}\r\n      this.entries.forEach(e => {\r\n        counts[e.account] = counts[e.account] ? [...counts[e.account], e.number] : [e.number]\r\n      })\r\n\r\n      if (this.duplicateMode === 'exclude') {\r\n        this.parsed = this.entries.filter(\r\n          (e, i, self) =>\r\n            (self.findIndex(x => x.account === e.account) === i && counts[e.account].length === 1) ||\r\n            this.manualIncluded.includes(e.account)\r\n        )\r\n      } else if (this.duplicateMode === 'first') {\r\n        this.parsed = this.entries.filter(\r\n          (e, i, self) =>\r\n            self.findIndex(x => x.account === e.account) === i ||\r\n            this.manualIncluded.includes(e.account)\r\n        )\r\n      } else {\r\n        this.parsed = this.entries\r\n      }\r\n    },\r\n\r\n    includeAccount(account) {\r\n      if (!this.manualIncluded.includes(account)) {\r\n        this.manualIncluded.push(account)\r\n        this.updateParsedList()\r\n      }\r\n    },\r\n\r\n    drawWinners() {\r\n      const maxDraw = this.parsed.length\r\n      if (this.drawCount < 1) this.drawCount = 1\r\n      if (this.drawCount > maxDraw) this.drawCount = maxDraw\r\n\r\n      // Fisher-Yates 洗牌演算法\r\n      const shuffled = [...this.parsed]; // 複製 parsed 避免修改原始資料\r\n      for (let i = shuffled.length - 1; i > 0; i--) {\r\n        const j = Math.floor(Math.random() * (i + 1));\r\n        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\r\n      }\r\n      this.winners = shuffled.slice(0, this.drawCount);\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 24px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  font-family: Arial, sans-serif;\r\n  color: #333;\r\n}\r\n\r\n.title {\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.announcement {\r\n  background-color: #fff8dc;\r\n  border-left: 4px solid #ffa500;\r\n  padding: 10px;\r\n  margin-bottom: 1em;\r\n  font-size: 1.1em;\r\n}\r\n\r\n.desc {\r\n  font-size: 14px;\r\n  color: #666;\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.main {\r\n  display: flex;\r\n  gap: 24px;\r\n}\r\n\r\n.left-panel {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 6px;\r\n  padding: 16px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.left-panel textarea {\r\n  width: 100%;\r\n  height: 200px;\r\n  padding: 8px;\r\n  font-size: 16px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  resize: none;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.options {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n}\r\n\r\n.options input,\r\n.options select {\r\n  margin-left: 8px;\r\n  padding: 4px 8px;\r\n  font-size: 14px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n}\r\n\r\n.options button {\r\n  margin-top: 8px;\r\n  width: 100px;\r\n  padding: 8px;\r\n  font-size: 14px;\r\n  background-color: #3b82f6;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n}\r\n\r\n.duplicates-list {\r\n  max-height: 300px;\r\n  overflow-y: auto;\r\n  border: 1px solid #ccc;\r\n  border-radius: 6px;\r\n  padding: 12px;\r\n  background-color: #fafafa;\r\n  margin-top: 16px;\r\n}\r\n\r\n.duplicates-title {\r\n  font-weight: 600;\r\n  margin-bottom: 4px;\r\n  color: #333;\r\n}\r\n\r\n.note-text {\r\n  font-size: 12px;\r\n  color: #555;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.duplicates-ul,\r\n.participants-ul {\r\n  list-style: disc inside;\r\n  font-size: 14px;\r\n  color: #333;\r\n  padding-left: 12px;\r\n  margin: 0;\r\n}\r\n\r\n.duplicate-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 6px;\r\n}\r\n\r\n.btn-restore {\r\n  background-color: white;\r\n  color: #333;\r\n  border: 1px solid #333;\r\n  padding: 4px 10px;\r\n  font-size: 12px;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s ease;\r\n}\r\n\r\n.btn-restore:hover {\r\n  background-color: #f0f0f0;\r\n}\r\n\r\n.participants-list {\r\n  max-height: 300px;\r\n  overflow-y: auto;\r\n  border: 1px solid #ccc;\r\n  border-radius: 6px;\r\n  padding: 12px;\r\n  background-color: #fafafa;\r\n}\r\n\r\n.participants-title {\r\n  font-weight: 600;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.right-panel {\r\n  width: 320px;\r\n  max-height: 400px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 6px;\r\n  padding: 16px;\r\n  box-sizing: border-box;\r\n  font-size: 14px;\r\n}\r\n\r\n.right-panel input[type='number'] {\r\n  margin-left: 8px;\r\n  padding: 4px 8px;\r\n  width: 60px;\r\n  font-size: 14px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n}\r\n\r\n.right-panel button {\r\n  width: 100px;\r\n  padding: 8px;\r\n  font-size: 14px;\r\n  background-color: #22c55e;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n}\r\n\r\n.right-panel button:disabled {\r\n  background-color: #94a3b8;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.winners-list {\r\n  overflow-y: auto;\r\n  border-top: 1px solid #ddd;\r\n  padding-top: 12px;\r\n  margin-top: 16px;\r\n}\r\n\r\n.winners-ul {\r\n  list-style: decimal inside;\r\n  padding-left: 16px;\r\n  margin: 0;\r\n}\r\n\r\n.winners-ul li {\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.donate-link {\r\n  position: absolute;\r\n  top: 16px;\r\n  right: 24px;\r\n  background-color: #f43f5e;\r\n  color: white;\r\n  padding: 6px 12px;\r\n  border-radius: 20px;\r\n  font-size: 14px;\r\n  text-decoration: none;\r\n  font-weight: bold;\r\n  transition: background-color 0.2s ease;\r\n  z-index: 1000;\r\n}\r\n\r\n.donate-link:hover {\r\n  background-color: #e11d48;\r\n}\r\n</style>\r\n","import { render } from \"./App.vue?vue&type=template&id=8f383730&scoped=true\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=8f383730&scoped=true&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8f383730\"]])\n\nexport default __exports__","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\n\r\ncreateApp(App).mount('#app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunklottery_tool_vue\"] = self[\"webpackChunklottery_tool_vue\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(7455); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","$data","rawText","$event","rows","placeholder","_hoisted_4","_hoisted_5","keyword","_hoisted_6","numberPosition","value","_hoisted_7","duplicateMode","onClick","_cache","args","$options","parseText","filteredDuplicates","length","_hoisted_8","_hoisted_9","_toDisplayString","_hoisted_10","_Fragment","_renderList","item","idx","key","account","count","numbers","map","n","join","includeAccount","_hoisted_11","duplicateNumbers","_hoisted_12","_hoisted_13","_hoisted_14","number","parsed","_hoisted_15","_hoisted_16","_hoisted_17","entry","i","_hoisted_18","type","drawCount","min","max","drawWinners","disabled","_hoisted_20","winners","_hoisted_21","_hoisted_22","winner","data","duplicates","entries","manualIncluded","computed","this","filter","d","includes","methods","lines","split","l","trim","isPureMetaLine","line","test","escapeRegExp","str","replace","escapedKeyword","isPushLine","RegExp","match","parseInt","j","candidate","push","seenNumbers","Set","uniqueEntries","has","add","counts","forEach","e","Object","nums","acc","updateParsedList","self","findIndex","x","maxDraw","shuffled","Math","floor","random","slice","__exports__","render","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","keys","every","splice","r","getter","__esModule","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","window","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","bind","__webpack_exports__"],"sourceRoot":""}