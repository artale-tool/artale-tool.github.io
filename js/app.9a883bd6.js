(function(){"use strict";var t={7455:function(t,e,n){var a=n(5130),s=(n(8111),n(1701),n(6768)),l=n(4232);const i={class:"container"},u={class:"main"},r={class:"left-panel"},o={class:"options"},c={class:"option-group"},d={class:"option-group"},p={class:"option-group"},h={key:0,class:"duplicates-list"},f={class:"duplicates-title"},v={class:"duplicates-ul"},m=["onClick"],b={key:1,class:"duplicates-list"},k={class:"duplicates-title"},w={class:"duplicates-ul"},L={key:2,class:"participants-list"},g={class:"participants-title"},C={class:"participants-ul"},y={class:"right-panel"},x=["max"],E=["disabled"],_={key:0,class:"winners-list"},I={class:"winners-ul"};function X(t,e,n,X,$,O){return(0,s.uX)(),(0,s.CE)("div",i,[e[15]||(e[15]=(0,s.Fv)('<a class="donate-link" href="https://payment.opay.tw/Broadcaster/Donate/9F63A0D01BF401B3E4637E3CCB453A34" target="_blank" rel="noopener noreferrer" data-v-8f383730> ğŸ’– è´ŠåŠ© </a><h1 class="title" data-v-8f383730>ç•™è¨€æŠ½ç±¤å·¥å…·</h1><p class="announcement" data-v-8f383730> ğŸ‰ å…¨æ–° <strong data-v-8f383730>æ›´å¿«é€Ÿã€æº–ç¢ºã€è‡ªå‹•åŒ–</strong> çš„æŠ½ç±¤å·¥å…· Chrome æ“´å……å¥—ä»¶ä¸Šç·šäº†ï¼<br data-v-8f383730> ğŸ‘‰ <a href="https://github.com/artale-tool/discord-lottery-extension" target="_blank" data-v-8f383730>é»æˆ‘å‰å¾€ GitHub ä¸‹è¼‰</a></p><p class="desc" data-v-8f383730> è«‹å°‡ DC ç•™è¨€è¤‡è£½ä¸¦è²¼å…¥ä»¥ä¸‹è¼¸å…¥æ¡†ã€‚ç”±æ–¼ DC é™åˆ¶ä¸€æ¬¡å¯è¤‡è£½çš„ç•™è¨€æ•¸é‡ï¼Œå»ºè­°æ¯æ¬¡è¤‡è£½ç´„ 80 å‰‡ç•™è¨€ã€‚æ¯æ¬¡è¤‡è£½æ™‚ï¼Œè«‹å‹™å¿…ç¢ºä¿èˆ‡ä¸Šä¸€æ¬¡è¤‡è£½çš„å…§å®¹ä¹‹é–“æœ‰æ›è¡Œåˆ†éš”ï¼Œä»¥é¿å…è³‡æ–™æ··æ·†æˆ–éºæ¼ã€‚ </p>',4)),(0,s.Lk)("div",u,[(0,s.Lk)("div",r,[(0,s.bo)((0,s.Lk)("textarea",{"onUpdate:modelValue":e[0]||(e[0]=t=>$.rawText=t),rows:"8",placeholder:"è«‹è²¼ä¸Šç•™è¨€"},null,512),[[a.Jo,$.rawText]]),(0,s.Lk)("div",o,[(0,s.Lk)("div",c,[(0,s.Lk)("label",null,[e[7]||(e[7]=(0,s.eW)("æ¨æ–‡é—œéµå­—ï¼š ")),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>$.keyword=t)},null,512),[[a.Jo,$.keyword]])])]),(0,s.Lk)("div",d,[(0,s.Lk)("label",null,[e[9]||(e[9]=(0,s.eW)("æ¨æ–‡æ•¸å­—ä½ç½®ï¼š ")),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>$.numberPosition=t)},e[8]||(e[8]=[(0,s.Lk)("option",{value:"after"},"æ•¸å­—åœ¨é—œéµå­—å¾Œï¼ˆå¦‚ æ¨1ï¼‰",-1),(0,s.Lk)("option",{value:"before"},"æ•¸å­—åœ¨é—œéµå­—å‰ï¼ˆå¦‚ 1æ¨ï¼‰",-1),(0,s.Lk)("option",{value:"any"},"ä¸é™ä½ç½®ï¼ˆåŒæ™‚æ”¯æ´ æ¨1 å’Œ 1æ¨ï¼‰",-1)]),512),[[a.u1,$.numberPosition]])])]),(0,s.Lk)("div",p,[(0,s.Lk)("label",null,[e[11]||(e[11]=(0,s.eW)("é‡è¤‡å¸³è™Ÿè™•ç†ï¼š ")),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>$.duplicateMode=t)},e[10]||(e[10]=[(0,s.Lk)("option",{value:"exclude"},"æ’é™¤é‡è¤‡å¸³è™Ÿ",-1),(0,s.Lk)("option",{value:"first"},"åƒ…ä¿ç•™ç¬¬ä¸€ç­†",-1),(0,s.Lk)("option",{value:"allow"},"å…è¨±é‡è¤‡åƒåŠ ",-1)]),512),[[a.u1,$.duplicateMode]])])]),(0,s.Lk)("button",{onClick:e[4]||(e[4]=(...t)=>O.parseText&&O.parseText(...t))},"æ•´ç†ç•™è¨€")]),O.filteredDuplicates.length?((0,s.uX)(),(0,s.CE)("div",h,[(0,s.Lk)("h2",f,"é‡è¤‡ç•™è¨€å¸³è™Ÿï¼ˆ"+(0,l.v_)(O.filteredDuplicates.length)+" ä½ï¼‰",1),e[12]||(e[12]=(0,s.Lk)("p",{class:"note-text"},"â€» éƒ¨åˆ†ä½¿ç”¨è€… ID å¯èƒ½ç›¸åŒä½†å¯¦éš›ç‚ºä¸åŒå¸³è™Ÿï¼Œå¯èƒ½æœƒèª¤åˆ¤ç‚ºé‡è¤‡å¸³è™Ÿï¼Œè«‹ç‰¹åˆ¥ç•™æ„æ˜¯å¦èª¤æ’é™¤æœ‰æ•ˆç•™è¨€ã€‚",-1)),(0,s.Lk)("ul",v,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(O.filteredDuplicates,(t,e)=>((0,s.uX)(),(0,s.CE)("li",{key:e,class:"duplicate-item"},[(0,s.Lk)("span",null,(0,l.v_)(t.account)+" - ç•™è¨€ "+(0,l.v_)(t.count)+" æ¬¡ï¼ˆ"+(0,l.v_)(t.numbers.map(t=>"æ¨"+t).join(", "))+"ï¼‰ ",1),(0,s.Lk)("button",{onClick:e=>O.includeAccount(t.account),class:"btn-restore"},"é‚„åŸåƒåŠ ",8,m)]))),128))])])):(0,s.Q3)("",!0),$.duplicateNumbers.length?((0,s.uX)(),(0,s.CE)("div",b,[(0,s.Lk)("h2",k,"æ¨æ–‡è™Ÿç¢¼é‡è¤‡ï¼ˆ"+(0,l.v_)($.duplicateNumbers.length)+" ç­†å·²ç§»é™¤ï¼‰",1),e[13]||(e[13]=(0,s.Lk)("p",{class:"note-text"},"â€» åŒä¸€å€‹æ¨è™Ÿåªèƒ½ä¿ç•™ç¬¬ä¸€å€‹ç•™è¨€ï¼Œå…¶é¤˜å°‡è‡ªå‹•ç•¥éã€‚",-1)),(0,s.Lk)("ul",w,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)($.duplicateNumbers,(t,e)=>((0,s.uX)(),(0,s.CE)("li",{key:e},(0,l.v_)(t.account)+" - æ¨"+(0,l.v_)(t.number),1))),128))])])):(0,s.Q3)("",!0),$.parsed.length?((0,s.uX)(),(0,s.CE)("div",L,[(0,s.Lk)("h2",g,"åƒåŠ åå–®ï¼ˆ"+(0,l.v_)($.parsed.length)+"äººï¼‰ï¼š",1),(0,s.Lk)("ul",C,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)($.parsed,(t,e)=>((0,s.uX)(),(0,s.CE)("li",{key:e},(0,l.v_)(t.account)+" - æ¨"+(0,l.v_)(t.number),1))),128))])])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",y,[(0,s.Lk)("label",null,[e[14]||(e[14]=(0,s.eW)("æŠ½å¹¾äººï¼š ")),(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":e[5]||(e[5]=t=>$.drawCount=t),min:"1",max:$.parsed.length||1},null,8,x),[[a.Jo,$.drawCount,void 0,{number:!0}]])]),(0,s.Lk)("button",{onClick:e[6]||(e[6]=(...t)=>O.drawWinners&&O.drawWinners(...t)),disabled:0===$.parsed.length},"æŠ½ç±¤",8,E),$.winners.length?((0,s.uX)(),(0,s.CE)("div",_,[(0,s.Lk)("h2",null,"ğŸ‰ ä¸­çåå–®ï¼ˆ"+(0,l.v_)($.winners.length)+"äººï¼‰ï¼š",1),(0,s.Lk)("ul",I,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)($.winners,(t,e)=>((0,s.uX)(),(0,s.CE)("li",{key:e},(0,l.v_)(t.account)+" - æ¨"+(0,l.v_)(t.number),1))),128))])])):(0,s.Q3)("",!0)])])])}n(4114),n(2489),n(7588),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698);var $={data(){return{rawText:"",keyword:"æ¨",numberPosition:"after",duplicateMode:"exclude",parsed:[],drawCount:1,winners:[],duplicates:[],duplicateNumbers:[],entries:[],manualIncluded:[]}},computed:{filteredDuplicates(){return this.duplicates.filter(t=>!this.manualIncluded.includes(t.account))}},methods:{parseText(){const t=this.rawText.split("\n").map(t=>t.trim()),e=[],n=t=>!t||/^\[.*\]$/.test(t)||/^â€”/.test(t)||/^(æ˜¨å¤©|ä¸Šåˆ|ä¸‹åˆ|æ™šä¸Š|å‡Œæ™¨).*/.test(t),a=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),s=a(this.keyword),l=t=>new RegExp(`^${s}\\d+$`).test(t);for(let c=0;c<t.length;c++){const a=t[c];let i=null;if("after"===this.numberPosition?i=a.match(new RegExp(`^${s}(\\d+)$`)):"before"===this.numberPosition?i=a.match(new RegExp(`^(\\d+)${s}$`)):"any"===this.numberPosition&&(i=a.match(new RegExp(`(?:^${s}(\\d+)$)|(?:^(\\d+)${s}$)`)),i&&(i[1]=i[1]||i[2])),i){const a=parseInt(i[1]);let s=null;for(let e=c-1;e>=0&&c-e<=5;e--){const a=t[e];if(a&&!n(a)&&!l(a)){s=a.includes("â€”")?a.split("â€”")[0].trim():a.trim();break}}s&&e.push({account:s,number:a})}}const i=new Set,u=[],r=[];for(const c of e)i.has(c.number)?r.push(c):(i.add(c.number),u.push(c));this.entries=u,this.duplicateNumbers=r;const o={};this.entries.forEach(t=>{o[t.account]=o[t.account]?[...o[t.account],t.number]:[t.number]}),this.duplicates=Object.entries(o).filter(([,t])=>t.length>1).map(([t,e])=>({account:t,count:e.length,numbers:e})),this.manualIncluded=[],this.updateParsedList(),this.winners=[]},updateParsedList(){const t={};this.entries.forEach(e=>{t[e.account]=t[e.account]?[...t[e.account],e.number]:[e.number]}),"exclude"===this.duplicateMode?this.parsed=this.entries.filter((e,n,a)=>a.findIndex(t=>t.account===e.account)===n&&1===t[e.account].length||this.manualIncluded.includes(e.account)):"first"===this.duplicateMode?this.parsed=this.entries.filter((t,e,n)=>n.findIndex(e=>e.account===t.account)===e||this.manualIncluded.includes(t.account)):this.parsed=this.entries},includeAccount(t){this.manualIncluded.includes(t)||(this.manualIncluded.push(t),this.updateParsedList())},drawWinners(){const t=this.parsed.length;this.drawCount<1&&(this.drawCount=1),this.drawCount>t&&(this.drawCount=t);const e=[...this.parsed];for(let n=e.length-1;n>0;n--){const t=Math.floor(Math.random()*(n+1));[e[n],e[t]]=[e[t],e[n]]}this.winners=e.slice(0,this.drawCount)}}},O=n(1241);const P=(0,O.A)($,[["render",X],["__scopeId","data-v-8f383730"]]);var D=P;(0,a.Ef)(D).mount("#app")}},e={};function n(a){var s=e[a];if(void 0!==s)return s.exports;var l=e[a]={exports:{}};return t[a].call(l.exports,l,l.exports,n),l.exports}n.m=t,function(){var t=[];n.O=function(e,a,s,l){if(!a){var i=1/0;for(c=0;c<t.length;c++){a=t[c][0],s=t[c][1],l=t[c][2];for(var u=!0,r=0;r<a.length;r++)(!1&l||i>=l)&&Object.keys(n.O).every(function(t){return n.O[t](a[r])})?a.splice(r--,1):(u=!1,l<i&&(i=l));if(u){t.splice(c--,1);var o=s();void 0!==o&&(e=o)}}return e}l=l||0;for(var c=t.length;c>0&&t[c-1][2]>l;c--)t[c]=t[c-1];t[c]=[a,s,l]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,l,i=a[0],u=a[1],r=a[2],o=0;if(i.some(function(e){return 0!==t[e]})){for(s in u)n.o(u,s)&&(n.m[s]=u[s]);if(r)var c=r(n)}for(e&&e(a);o<i.length;o++)l=i[o],n.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return n.O(c)},a=self["webpackChunklottery_tool_vue"]=self["webpackChunklottery_tool_vue"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],function(){return n(7455)});a=n.O(a)})();
//# sourceMappingURL=app.9a883bd6.js.map